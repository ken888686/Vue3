<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="style.css" /> -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
  </head>

  <body>
    <div id="app" class="container mt-3">
      <div class="input-group mb-3">
        <input
          type="text"
          v-model="text"
          class="form-control"
          placeholder="item..."
          aria-label="input item"
          aria-describedby="input button"
        />
        <button
          class="btn btn-outline-secondary"
          type="button"
          @click="addItem"
        >
          Add Item
        </button>
      </div>
      <table class="table table-dark table-striped table-hover align-middle">
        <thead>
          <tr>
            <th scope="col">Content</th>
            <th scope="col"></th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item, index) in data">
            <th scope="row">
              <input
                type="text"
                name=""
                id=""
                v-model="item.text"
                v-if="item.isEdit"
              />
              <span v-else>{{item.text}}</span>
            </th>
            <td>
              <button
                v-if="item.isEdit"
                type="button"
                class="btn btn-success"
                @click="doneItem(item)"
              >
                Done
              </button>
              <button
                v-else
                type="button"
                class="btn btn-secondary"
                @click="editItem(item)"
              >
                Edit
              </button>
            </td>
            <td>
              <button
                :disabled="item.isEdit"
                type="button"
                class="btn btn-danger"
                @click="deleteItem(item)"
              >
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      const app = Vue.createApp({
        data() {
          return {
            text: "Aaron Tu",
            data: [
              {
                id: 2,
                text: "test",
                isEdit: false,
              },
            ],
          };
        },
        methods: {
          addItem() {
            if (!this.text) {
              return;
            }
            this.data.push({
              id: this.data.length + 1,
              text: this.text,
              isEdit: false,
            });
            this.text = "";
          },
          deleteItem(item) {
            const index = this.data.findIndex((x) => x.id === item.id);
            this.data.splice(index, 1);
          },
          editItem(item) {
            item.isEdit = true;
          },
          doneItem(item) {
            const index = this.data.findIndex((x) => x.id === item.id);
            this.data[index] = item;
            item.isEdit = false;
          },
        },
        computed: {},
        mounted() {},
      });

      app.mount("#app");
    </script>
  </body>
</html>
